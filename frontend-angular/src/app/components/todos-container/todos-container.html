<div class="todos-wrapper">

  <div class="todos-filter-bar">
    <select [(ngModel)]="filter" class="todos-filter-select">
      <option value="ALL">All</option>
      <option value="NEW">New</option>
      <option value="IN-PROGRESS">In-Progress</option>
      <option value="DONE">Done</option>
    </select>
  </div>

  <div class="todos-container">
    <ng-container *ngIf="loading$ | async; else loaded">
      <div class="todos-loading-wrapper">
        <div class="todos-loading-spinner"></div>
      </div>
    </ng-container>

    <ng-template #loaded>

      <ng-container *ngIf="isEmpty$ | async; else todosList">
        <p class="no-todos">No Todo Available</p>
      </ng-container>
      <ng-template #todosList>
        <ng-container *ngFor="let todo of (filteredTodos$ | async)">
          <app-single-todo
            [title]="todo.title"
            [note]="todo.note"
            [status]="todo.status"
            [todoId]="todo.id"
          ></app-single-todo>
        </ng-container>
      </ng-template>

    </ng-template>

  </div>

</div>
