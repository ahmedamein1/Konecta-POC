<div class="todo-card-wrapper" [ngClass]="{ loading: loading }">
  <div *ngIf="loading" class="todo-spinner"></div>

  <div class="todo-card" [ngClass]="'status-' + status">

    <div class="todo-left-strip"></div>

    <ng-container *ngIf="!editMode">
      <div class="todo-content">
        <h3 class="todo-title">{{ title }}</h3>
        <p class="todo-note" *ngIf="note && note.trim() !== ''">{{ note }}</p>
      </div>

      <div class="todo-actions">
        <select
          class="todo-select"
          [disabled]="loading"
          [(ngModel)]="status"
          (change)="handleStatusChange($event)"
        >
          <option *ngFor="let option of statusOptions" [value]="option.value">
            {{ option.label }}
          </option>
        </select>

        <div class="todo-icon-actions">
          <button class="todo-icon-btn" (click)="editMode = true">‚úèÔ∏è</button>
          <button class="todo-icon-btn" (click)="handleDelete()">üóëÔ∏è</button>
        </div>
      </div>
    </ng-container>

   
    <div *ngIf="editMode" class="edit-todo">
      <app-edit-todo-content
        [title]="title"
        [note]="note"
        [status]="status"
        (onCancel)="editMode = false"
        (onUpdate)="handleUpdateTodo($event)"
      ></app-edit-todo-content>
    </div>

  </div>
</div>
